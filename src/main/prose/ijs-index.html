<html>
<!-- 
This work is released into the Public Domain under the
terms of the Creative Commons CC0 1.0 Universal license.
https://creativecommons.org/publicdomain/zero/1.0/
-->
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<link rel="stylesheet" type="text/css" href="pityoulish.css" />
<title>Instructions: Message Board with Sockets</title>
</head>
<body>
<h1 id="tutorial" class="title">
  <span>Instructor's Notes: Message Board with Sockets</span>
</h1>
<p class="abstract">
During this exercise, students will get a glimpse of how tedious it is
to implement a low-level protocol on top of socket connections or other
primitive communication mechanisms.
</p>

<div class="larger">
<p>
You're going to run a <a href="message-board.html">Message Board</a> server
which implements the <a href="protocol-tlv.html">Binary Protocol</a>.
Students have to fix a Java client that connects to your server via sockets.
Missing code requires the students
to open connections, create requests, and parse responses.
The server generates console output
to provide immediate feedback about incoming requests.
</p>
<p>
These Instructor's Notes are organized chronologically:
</p>

<ol>
<li><a href="#prepare">Prepare</a>:
  Get hardware, install software, hand out the Tutorial.</li>
<li><a href="#rehearse">Rehearse</a>:
  Hook up the hardware, work through the exercise yourself.</li>
<li><a href="#execute">Execute</a>:
  Let students work through the exercise, enjoy the show.</li>
<li><a href="#evaluate">Lessons Learned</a>:
  By the students, by yourself, for the next time, for others.</li>
</ol>

</div>




<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
<h2 id="prepare"><span>Prepare</span></h2>

<div class="box-right">
<dl>
<dt><a href="mbserver-sockets.jar"
       ><code>mbserver-sockets.jar</code></a></dt>
<dd>The server program. Usage instructions:
  <br/><code>&nbsp;&nbsp;java -jar mbserver-sockets.jar X</code><br/>
</dd>
</dl>
</div><!-- box-right -->

<p class="todo">
Tutorial: Give as homework, one or two weeks of headroom.
<i>Details to be fleshed out.</i>
</p>

<p class="todo">
Get <a href="classroom-setup.html#procure">What You Need</a> as described
in the generic <a href="classroom-setup.html">Classroom Setup</a>.
Exercise-specific details:
</p>

<ul class="todo">
<li>
Message Board socket server, see box.
</li>
<li>
Server Runtime: JDK.
A JVM might suffice, but better be prepared to recompile something.
</li>
<li>
Web Server:
Classroom Exercise (must),
Tutorial (recommended),
Java API Docs (recommended).
</li>
<li>
Don't put these Instructor's Notes on the web server.
Students might be tempted to look into the server implementation.
</li>
</ul>


<p class="todo">
Schedule: see generic <a href="classroom-setup.html">Classroom Setup</a>.
<i>Anything exercise-specific to add here?</i>
</p>


<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
<h2 id="rehearse"><span>Rehearse</span></h2>

<p class="todo">
Perform the <a href="classroom-setup.html#rehearse">Tech Rehearsal</a>
as described in the <a href="classroom-setup.html">Classroom Setup</a>.
Do this at least once a year, or whenever you change the server,
the operating system, the classroom, or the classroom equipment.
</p>
<ul class="todo">
<li>
See above for the Message Board socket server.
</li>
<li>
Wanna play with the server locale?
</li>
</ul>


<p>
Content Rehearsal:
</p>
<ul class="todo">
<li>
Work through the Tutorial yourself, if you haven't done so yet.
</li>
<li>
Work through the Exercise yourself.
</li>
<li>
You need to be prepared even better than the students, so you can help them.
</li>
</ul>


<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
<h2 id="execute"><span>Execute</span></h2>

<ul class="todo">
<li>...
</li>
</ul>


<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
<h3 id="hints"><span>Hints</span></h3>

<dl>
<dt>How to List Messages with different markers</dt>
<dd>
<p>
You get a marker in response to a List Messages operation.
The marker indicates where in the message stream the returned messages end.
List messages with different limits to fetch less than the available messages.
</p>
<!-- <br/>-->
<p>
Alternatively, put more messages on the board and list messages again.
The markers from previous responses remain valid.
</p>
</dd>

<!--
<dt></dt>
<dd>
</dd>
-->
</dl>

<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
<h3 id="answers"><span>Answers</span></h3>

<p>
The exercise mentions gaps in the suggested test sequence.
The known gaps in the good cases are:
</p>

<dl>
<dt>Empty batch in response to List Messages</dt>
<dd>
This case is likely to be encountered when testing with markers,
but not enforced by the test sequence.
It cannot be encountered without marker, because the board is never empty.
The server always puts an initial message on the board.
</dd>

<dt>Missed messages indicator in response to List Messages</dt>
<dd>
<p>
To get an indicator for missed messages, messages must drop off the board
while the students are testing with markers. If the board capacity is high
and the message volume low, that is unlikely to happen.
</p>
<p>
Students can force this situation by getting a marker from the beginning
of the board and then putting more messages on the board until at least
two user messages are dropped.
Depending on the board capacity, that may be a tedious task.
The instructor can help by choosing a low capacity.
</p>
</dd>
</dl>


<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
<h2 id="evaluate"><span>Lessons Learned</span></h2>

<!-- How much of this here, how much in Exercise? -->
<ul class="todo">
<li>
Did the students get through the full test sequence within the allotted time?
Did they find and fix all the problems?
</li>
<li>
If not, why?
Bad preparation on the students' side, or on the instructor's?
Not enough time allotted? Lack of skills?
Shortcomings of the exercise itself?
</li>
<li>
Spotted things not covered by the test sequence?
</li>
<li>
Gather feedback from the students.
What (unplanned) problems did they encounter?
What did they learn?
How did they like the exercise?
Suggested improvements?
</li>
</ul>

<p>
Please provide feedback, positive and negative, to the Open Source project at
<a href="https://github.com/rolandweber/pityoulish/"
   >https://github.com/rolandweber/pityoulish/</a>.
Just open an issue and share your experience.
</p>

</body>
</html>

